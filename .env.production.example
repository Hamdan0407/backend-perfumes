###############################################################################
# PRODUCTION ENVIRONMENT CONFIGURATION
# 
# CRITICAL: This file contains sensitive data.
# - NEVER commit to version control
# - NEVER commit actual secrets
# - Use secure secret management in production
# - Keep file permissions restrictive: chmod 600
#
# Usage: docker-compose --env-file .env.production up -d
###############################################################################

# ==========================================
# DATABASE CONFIGURATION (MANDATORY)
# ==========================================
# PRODUCTION: Use managed database service (AWS RDS, Azure, Google Cloud SQL)
# MySQL: jdbc:mysql://db-host:3306/perfume_shop
# PostgreSQL: jdbc:postgresql://db-host:5432/perfume_shop
DATABASE_URL=jdbc:mysql://prod-db-host:3306/perfume_shop
DATABASE_USERNAME=prod_user
DATABASE_PASSWORD=CHANGE_ME_SECURE_PASSWORD_16PLUS_CHARS
DATABASE_ROOT_PASSWORD=CHANGE_ME_ROOT_PASSWORD
DATABASE_POOL_SIZE=20

# ==========================================
# REDIS CONFIGURATION (MANDATORY FOR PRODUCTION)
# ==========================================
# Redis is REQUIRED for production:
# - Chatbot conversation state persistence
# - Session management
# - Product caching
# - Fast inventory checks
REDIS_HOST=redis-prod-host
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_SECURE_PASSWORD
REDIS_DATABASE=0

# ==========================================
# JWT CONFIGURATION (MANDATORY)
# ==========================================
# Generate using: openssl rand -base64 32
# CRITICAL: Must be different from dev/demo
# Must be 256+ bits (43+ characters when base64)
JWT_SECRET=CHANGE_ME_GENERATE_USING_OPENSSL_RAND_BASE64_32
JWT_EXPIRATION=86400000
JWT_REFRESH_EXPIRATION=604800000
JWT_GRACE_PERIOD=60000

# ==========================================
# EMAIL CONFIGURATION (MANDATORY)
# ==========================================
# Using Gmail with App Passwords recommended
# Alternative: Use corporate SMTP or AWS SES
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USERNAME=noreply@yourdomain.com
MAIL_PASSWORD=CHANGE_ME_GMAIL_APP_PASSWORD
EMAIL_MAX_RETRIES=3

# ==========================================
# RAZORPAY PAYMENT (MANDATORY FOR PRODUCTION)
# ==========================================
# CRITICAL: Use LIVE keys (rzp_live_...), NEVER test keys
# Get keys from: https://dashboard.razorpay.com/app/keys
# Test keys will FAIL in production
RAZORPAY_KEY_ID=rzp_live_CHANGE_ME_LIVE_KEY
RAZORPAY_KEY_SECRET=CHANGE_ME_LIVE_SECRET
RAZORPAY_WEBHOOK_SECRET=CHANGE_ME_WEBHOOK_SECRET
RAZORPAY_CURRENCY=INR

# ==========================================
# STRIPE PAYMENT (OPTIONAL)
# ==========================================
# Leave empty if not using Stripe
STRIPE_API_KEY=sk_live_CHANGE_ME_IF_USING
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME_IF_USING

# ==========================================
# SECURITY CONFIGURATION (MANDATORY)
# ==========================================
# CORS Origins - Production domain(s) only
# Comma-separated: https://yourdomain.com,https://www.yourdomain.com
CORS_ORIGINS=https://yourdomain.com
PASSWORD_ENCODER_STRENGTH=12

# ==========================================
# FRONTEND CONFIGURATION (MANDATORY)
# ==========================================
FRONTEND_URL=https://yourdomain.com

# ==========================================
# SPRING PROFILE (PRODUCTION ONLY)
# ==========================================
# CRITICAL: NEVER use 'demo' or 'dev' in production
SPRING_PROFILES_ACTIVE=prod

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
LOG_LEVEL=INFO
APP_LOG_LEVEL=INFO
SPRING_LOG_LEVEL=WARN
SPRING_SECURITY_LOG_LEVEL=WARN
SPRING_WEB_LOG_LEVEL=WARN

# ==========================================
# SECURITY CHECKLIST BEFORE DEPLOYMENT
# ==========================================
# [ ] All CHANGE_ME values replaced with actual secrets
# [ ] JWT_SECRET is 256+ bits and UNIQUE
# [ ] RAZORPAY using LIVE keys (rzp_live_...), NOT test keys
# [ ] Database password is STRONG (16+ chars, mixed case, numbers, symbols)
# [ ] Redis password is STRONG and SET
# [ ] MAIL_PASSWORD uses Gmail App Password or corporate SMTP
# [ ] CORS_ORIGINS contains ACTUAL production domain
# [ ] FRONTEND_URL contains ACTUAL production domain
# [ ] File permissions: chmod 600 .env.production
# [ ] File is in .gitignore (NOT committed to git)
# [ ] Database backup configured
# [ ] SSL/TLS certificates are valid
# [ ] Monitoring and alerting set up
# [ ] Disaster recovery plan documented
###############################################################################
EMAIL_MAX_RETRIES=3
EMAIL_RETRY_DELAY=5000

# ==========================================
# PAYMENT GATEWAY - STRIPE
# ==========================================
# Get from https://dashboard.stripe.com/apikeys
STRIPE_API_KEY=sk_live_your_actual_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_actual_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_actual_webhook_signing_secret

# ==========================================
# PAYMENT GATEWAY - RAZORPAY
# ==========================================
# Get from https://dashboard.razorpay.com
RAZORPAY_KEY_ID=rzp_live_your_actual_key_id
RAZORPAY_KEY_SECRET=your_actual_razorpay_key_secret
RAZORPAY_WEBHOOK_SECRET=your_actual_razorpay_webhook_secret
RAZORPAY_CURRENCY=INR

# ==========================================
# FRONTEND CONFIGURATION
# ==========================================
FRONTEND_URL=https://yourdomain.com

# ==========================================
# LOGGING CONFIGURATION
# ==========================================
# Log levels: TRACE, DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO
LOG_DIR=/var/log/perfume-shop
LOG_MAX_FILE_SIZE=100MB
LOG_MAX_BACKUP_INDEX=7

# Spring logging levels
SPRING_LOG_LEVEL=WARN
SPRING_SECURITY_LOG_LEVEL=WARN
SPRING_WEB_LOG_LEVEL=WARN

# Application logging
APP_LOG_LEVEL=INFO

# ==========================================
# MONITORING & PERFORMANCE
# ==========================================
# Application Performance Monitoring (APM)
# APM_ENABLED=false
# APM_SERVER_URL=https://your-apm-server.com
# APM_SERVICE_NAME=perfume-shop

# ==========================================
# AWS CONFIGURATION (Optional - for S3, RDS, etc.)
# ==========================================
# AWS_REGION=us-east-1
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=perfume-shop-prod-bucket

# ==========================================
# CACHE CONFIGURATION
# ==========================================
CACHE_ENABLED=true
CACHE_TTL=3600

# ==========================================
# SECURITY HEADERS
# ==========================================
# HTTP Strict Transport Security (HSTS)
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000

# Content Security Policy
CSP_ENABLED=true
